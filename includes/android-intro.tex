%TODO aim TO or aim at ?


\chapter*{Introduction}
\label{chap:andro-intro}
\addcontentsline{toc}{chapter}{Introduction}

\section*{Structure}
\label{sec:intro-andro-structure}
This part is composed of three chapters.
It is advised to read them in the presented order for a better understanding as they rely on each other.
However technical details can be skipped without losing the general understanding.\\

The \textbf{localisation using Android} chapter presents the different methods available to retrieve the location of the users.
This aims to define the capabilities of an application in term of location.
These methods are often unknown and considered as a black-box but when studied they may lead to privacy concerns.
The anonymity and the traces left by the location requests are particularly examined in this chapter.\\

The \textbf{security of Android} chapter focuses on the capabilities of an application in term of security.
The permission model implemented in Android is explained with its limitations and weaknesses.
The different methods of an application propagation are also studied.
As the previous chapter explains the capabilities of an application, this chapter demonstrates how a malicious application could end up on a user device.
The malware risk has increased greatly in the previous months on Android and the security of the platform is a recurring concern.
This chapter intends to clarify the risks by explaining the known possible abuses.
%TODO a reformuler
%It also intends and best how to avoid it by developing secure behaviours.\\

The combination of the two first chapter aims to develop a good understanding of the mechanisms of localisation and related security on an Android application.
As an example of practical implementation of these concepts, the \textbf{DroidWatcher} mobile application has been developed.
This application aims to demonstrate what an application is capable of and how any location-aware application could trace a user.

\section*{Why Android ?}
\label{sec:why-android}

Android is the operating system delivered by Google for smartphones and tablets.
The choice of the Android operating system is justified by several factors.\\

\subsection*{Market share}

Android is the main operating system powering smartphones with a market share of 56.1\% in the first quarter of 2012\footnote{According Mobile Statistics \url{http://www.mobilestatistics.com/mobile-statistics/}}.
As the smartphone presence increases, it is today most likely that a mobile device is powered by this operating system now and in a close future.
The iOS system from Apple is the second most popular system with a market share of 22.9\% at the same period of time.\\

\subsection*{Openness implications}
The difference between these two systems is mainly in the openness policy.
Android is open source while iOS uses proprietary code.
This choice of openness is reflected toward the manufacturers concerning the usage of the platform (every manufacturer can port Android to its devices) but also to the developers in the management of applications.
The direct opposition between the two platforms has implication on the security of the system.
The open model of Android allows more abusive usages and may lead to an increased risk of malicious application propagation.
The combination of high market share and security concerns makes it an interesting case study.\\

\subsection*{Not specific to Android}
Although this thesis looks at the Android case, we believe our findings are relevant to other system as well.
% The technical information used in the following chapters are directly depending to the Android system but 
Today, every smartphone system has location capabilities similar to the one used in Android and these capabilities could be used in a malicious behaviour without the user realising it.
The malicious application propagation is directly depending on the platform\footnote{The difference of an application publication on the official distribution medium between Android and iOS is studied in Section \ref{sec:playstore-publication-policy}}, but the risks exist and malicious applications are present on any systems that allows such abusive behaviour.

\section*{Why the localisation ?}
\label{sec:why-localisation}

Nowadays, the localisation privacy is often an aspect being neglected.
The success of applications such as Foursquare, which intends to actively and consciously publish his current position on social networks for instance, is a clear sign of this tendency.\\

However, this lack of focus on privacy respect has been understood and exploited by advertisers and developers.
Mobile technology brings a new dimension in the constant search for knowing more about people: the \emph{Where am I?}.
The targeted advertisements and user profiling is now common and the location is directly related to the efficiency of these techniques.
If a country-based advertisement in a game application may not bother a user, the traceability possibilities are a lot more accurate and worrying.
Knowing the same game application is able to accurately trace the movements of a user through time, even when he does not use the application, should be a more important concern.
Demonstrating these possibilities in a transparent way is the aim behind the DroidWatcher application.\\

The location aspect is only studied in the capabilities of requesting the location of a device.
With the exception of the cache file described in Section \ref{sec:andro-cell-db}, the forensic inspection of an Android device has not been studied and could be included in future researches.

\section*{Android lexicon}
\label{sec:android-lexicon}

To help the understanding of the following chapters, some specific terms are explained below:\\

\textbf{ROM}: Android is an operating system targeting mobile devices using a Linux kernel.
Literally, ROM stands for \emph{Read Only Memory}, the part of the system where the firmware and system applications are stored but the term ROM is often used to designate a new firmware that will replace the existing one.
The ROM installed by the manufacturer is usually called the \emph{stock ROM}.
CyanogenMod\footnote{CyanogenMod \url{http://www.cyanogenmod.com/}} is a well-known alternative Android ROM.
Its development is driven by the community\footnote{Unlike Android which is open source but developed by Google only} and ported to a large number of devices.
The installation of a ROM such as CyanogenMod does not modify deeply the system but usually allows more configuration, correct some bugs or extends the possibilities of the device.\\

\textbf{Root}: on most devices, the owner of an Android device has only a limited access to the system.
It can install new applications but not see or alter the content of the device system file where the application is stored.
%Features such as USB tethering (the possibility to use the phone internet connection on an external device using the USB connection) is usually not permitted using the stock ROM of the devices and can not be activated without modifying the system behaviour.
Gaining a root access on a device is a procedure to access all the capabilities of the system and be able to modify it.
The procedure for root access varies from device to device since root access protection is left to manufacturers choice and can require complex procedure\footnote{The website ready2root gathers procedures to gain root access on a large list of devices \url{http://ready2root.com/}}.
Gaining root access is considered sufficient to void the warranty of a device with many manufacturers.
Having a root access is required to install an alternative ROM.
To realise the experiments described in Section \ref{sec:andro-perso-research}, a root access was necessary to be able to monitor every aspect of the system.

% \begin{itemize}
% \item Pourquoi s'intéresser à Android ?
%   \begin{itemize}
%   \item Aujourd'hui OS majoritaire sur smartphone
%   \item Vente smartphones \textgreater ventes pc en 2012
%   \item Entends d'en plus en plus des problèmes de virus
%   \item Confie énormément d'info à un smartphone
%   \item Fait moins attention à ce qu'on fait sur un smartphone qu'un pc
%   \item Ce qui est valable sur Android est principalement valable pour iOS \& co
%   \end{itemize}
% \item La localisation est un aspect souvent négligé
%   \begin{itemize}
%   \item Gens pensent \emph{quel est le problème si mon jeu sait où je me trouve quand j'y joue ?}
%   \item Si arrive à tracer en temps réel les déplacements de l'utilisateur, plus inquiétant.
%   \item Les gens ne se rendent pas compte ce dont est capable une application.
%   \item A créé une application pour montrer cela, DroidWatcher
%   \end{itemize}
% \item choisi de se concentrer sur l'aspect applications, pas étudié l'aspect forensic
% \item court lexique (root, ROM...)
% \end{itemize}